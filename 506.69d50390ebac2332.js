"use strict";(self.webpackChunkMyMoney=self.webpackChunkMyMoney||[]).push([[506],{9506:(j,m,r)=>{r.r(m),r.d(m,{SignUpModule:()=>k});var c=r(9808),g=r(1592),u=r(1083),a=r(3075),d=r(7503),t=r(5e3),f=r(5219),h=r(7319),v=r(8762),x=r(1271),Z=r(5150),l=r(7093),A=r(9224),p=r(7322),C=r(7531),U=r(4107),_=r(508),T=r(7423),y=r(5899),I=r(773);function S(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._UZ(1,"img",22),t.TgZ(2,"span",23),t._uU(3),t.qZA()()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.MGl("src","assets/flags/",n.name,".png",t.LSH),t.xp6(2),t.hij(" ",n.name,"")}}function M(e,o){if(1&e&&(t.TgZ(0,"mat-option",24),t._UZ(1,"img",22),t.TgZ(2,"span",23),t._uU(3),t.qZA()()),2&e){const n=o.$implicit;t.Q6J("value",n.id),t.xp6(1),t.MGl("src","assets/avatars/",n.name,".png",t.LSH),t.xp6(2),t.hij(" ",n.name,"")}}function F(e,o){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Invalid Email"),t.qZA())}function L(e,o){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Email is used"),t.qZA())}function J(e,o){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Invalid Phone"),t.qZA())}function q(e,o){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Phone is used"),t.qZA())}function P(e,o){1&e&&(t.TgZ(0,"small",25),t._uU(1,"Minimum eight characters, at least one uppercase letter, one lowercase letter and one number"),t.qZA())}function Q(e,o){1&e&&(t.TgZ(0,"span",25),t._uU(1,"Password does not match"),t.qZA())}function N(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).signup()}),t.TgZ(1,"span"),t._uU(2,"Sign Up"),t.qZA()()}if(2&e){const n=t.oxw(2);t.Q6J("disabled",n.isAddingUser)("disabled",!n.createAccountForm.valid)}}function Y(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"mat-progress-bar",28),t.qZA())}function E(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-card",3)(1,"span",4),t._uU(2,"Sign Up"),t.qZA(),t.TgZ(3,"form",5)(4,"mat-form-field",6)(5,"mat-label"),t._uU(6,"Username"),t.qZA(),t._UZ(7,"input",7),t.qZA(),t.TgZ(8,"mat-form-field",8)(9,"mat-label"),t._uU(10,"Currency"),t.qZA(),t.TgZ(11,"mat-select",9),t.YNc(12,S,4,3,"mat-option",10),t.qZA()(),t.TgZ(13,"mat-form-field",8)(14,"mat-label"),t._uU(15,"Avatar"),t.qZA(),t.TgZ(16,"mat-select",11),t.YNc(17,M,4,3,"mat-option",12),t.qZA()(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Email"),t.qZA(),t._UZ(21,"input",13),t.qZA(),t.YNc(22,F,2,0,"span",14),t.YNc(23,L,2,0,"span",14),t.TgZ(24,"mat-form-field",6)(25,"mat-label"),t._uU(26,"Phone"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.YNc(28,J,2,0,"span",14),t.YNc(29,q,2,0,"span",14),t.TgZ(30,"mat-form-field",6)(31,"mat-label"),t._uU(32,"Password"),t.qZA(),t._UZ(33,"input",16),t.qZA(),t.YNc(34,P,2,0,"small",14),t.YNc(35,Q,2,0,"span",14),t.TgZ(36,"mat-form-field",6)(37,"mat-label"),t._uU(38,"Confirm Password"),t.qZA(),t._UZ(39,"input",17),t.qZA(),t.YNc(40,N,3,2,"button",18),t.YNc(41,Y,2,0,"div",2),t.qZA(),t.TgZ(42,"div",19),t._uU(43," already have an account? "),t.TgZ(44,"span",20),t.NdJ("click",function(){return t.CHM(n),t.oxw().LoginInstead()}),t._uU(45,"Login"),t.qZA()()()}if(2&e){const n=t.oxw();t.xp6(3),t.Q6J("formGroup",n.createAccountForm),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngForOf",n.currencies),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngForOf",n.avatars),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngIf","Invalid Email"==n.errorTxt),t.xp6(1),t.Q6J("ngIf","Email is used"==n.errorTxt),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngIf","Invalid Phone"==n.errorTxt),t.xp6(1),t.Q6J("ngIf","Phone is used"==n.errorTxt),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngIf","Invalid Password"==n.errorTxt),t.xp6(1),t.Q6J("ngIf","Password does not match"==n.errorTxt),t.xp6(1),t.Q6J("hideRequiredMarker",!0),t.xp6(4),t.Q6J("ngIf",!n.isAddingUser),t.xp6(1),t.Q6J("ngIf",n.isAddingUser)}}function b(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"mat-progress-spinner",29),t.qZA()),2&e&&(t.xp6(1),t.Q6J("diameter",70))}const O=[{path:"",component:(()=>{class e{constructor(n,i,s,z,B,w,$){this.formBuilder=n,this.router=i,this.currencyService=s,this.avatarService=z,this.loginService=B,this.snackBar=w,this.signupService=$,this.userId=this.loginService.getSessionFromStorage(d.E),this.isLoading=!0,this.isLoadingAvatar=!1,this.isLoadingCurrency=!1,this.isAddingUser=!1,this.currencies=[],this.avatars=[]}ngOnInit(){this.initForm(),this.getData()}getData(){this.isLoading=!0,this.isLoadingAvatar=!0,this.isLoadingCurrency=!0,this.catSub=this.currencyService.getCurrencies().subscribe(n=>{this.currencies=n,this.isLoadingCurrency=!1,0==this.isLoadingAvatar&&(this.isLoading=!1)}),this.avatarSub=this.avatarService.getAvatars().subscribe(n=>{this.avatars=n,this.isLoadingAvatar=!1,0==this.isLoadingCurrency&&(this.isLoading=!1)})}initForm(){this.usernameCtrl=this.formBuilder.control("",a.kI.required),this.emailCtrl=this.formBuilder.control("",a.kI.required),this.phoneCtrl=this.formBuilder.control("",a.kI.required),this.currencyCtrl=this.formBuilder.control("",a.kI.required),this.avatarCtrl=this.formBuilder.control("",a.kI.required),this.passCtrl=this.formBuilder.control("",a.kI.required),this.confPassCtrl=this.formBuilder.control("",a.kI.required),this.createAccountForm=this.formBuilder.group({username:this.usernameCtrl,phone:this.phoneCtrl,email:this.emailCtrl,currency:this.currencyCtrl,avatar:this.avatarCtrl,pass:this.passCtrl,confpass:this.confPassCtrl})}signup(){return this.errorTxt="",/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,12}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,5}[a-zA-Z0-9])?)*$/gi.test(this.createAccountForm.value.email)?/^[\+]?[(]?[0-9]{2,5}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{3}$/gim.test(this.createAccountForm.value.phone)?this.createAccountForm.value.pass!==this.createAccountForm.value.confpass?(this.passCtrl.setErrors(a.kI.required),this.confPassCtrl.setErrors(a.kI.required),void(this.errorTxt="Password does not match")):/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(this.createAccountForm.value.pass)?void this.newAccount():(this.passCtrl.setErrors(a.kI.required),void(this.errorTxt="Invalid Password")):(this.phoneCtrl.setErrors(a.kI.required),void(this.errorTxt="Invalid Phone")):(this.emailCtrl.setErrors(a.kI.required),void(this.errorTxt="Invalid Email"))}newAccount(){this.isAddingUser=!1,console.log("username: "+this.createAccountForm.value.username),console.log("email: "+this.createAccountForm.value.email),console.log("phone: "+this.createAccountForm.value.phone),console.log("currency: "+this.createAccountForm.value.currency),console.log("avatar: "+this.createAccountForm.value.avatar),console.log("password: "+this.createAccountForm.value.pass)}LoginInstead(){this.router.navigateByUrl("login")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.qu),t.Y36(u.F0),t.Y36(f.i),t.Y36(h.o),t.Y36(v.r),t.Y36(x.ux),t.Y36(Z.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sign-up"]],decls:3,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"container"],["fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["class","spinner","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center"],[1,"title"],["fxLayout","column","fxLayoutAlign","stretch",3,"formGroup"],["appearance","outline",3,"hideRequiredMarker"],["matInput","","maxlength","256","formControlName","username",1,"username"],["appearance","fill",3,"hideRequiredMarker"],["formControlName","currency"],[3,"value",4,"ngFor","ngForOf"],["formControlName","avatar"],["class","avatar-list",3,"value",4,"ngFor","ngForOf"],["matInput","","maxlength","256","formControlName","email",1,"emaail"],["class","error",4,"ngIf"],["matInput","","maxlength","256","type","number","formControlName","phone",1,"phone"],["matInput","","maxlength","256","type","password","formControlName","pass",1,"password"],["matInput","","maxlength","256","type","password","formControlName","confpass",1,"password"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"have_an_account"],[1,"login",3,"click"],[3,"value"],["fxFlex","10","alt","",1,"icon",3,"src"],["fxFlex",""],[1,"avatar-list",3,"value"],[1,"error"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxLayout","column","fxLayoutAlign","center center",1,"spinner"],["mode","indeterminate"],["mode","indeterminate",3,"diameter"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,E,46,18,"mat-card",1),t.YNc(2,b,2,1,"div",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",!i.isLoading),t.xp6(1),t.Q6J("ngIf",i.isLoading))},directives:[l.xw,l.Wh,c.O5,A.a8,a._Y,a.JL,a.sg,p.KE,p.hX,C.Nt,a.Fj,a.nD,a.JJ,a.u,U.gD,c.sg,_.ey,l.yH,a.wV,T.lW,y.pW,I.Ou],styles:[".container[_ngcontent-%COMP%]{min-height:100%;background-color:#f0f2f5}.icon[_ngcontent-%COMP%]{max-width:20%!important;max-height:20%!important}.title[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;margin-bottom:1rem}.error[_ngcontent-%COMP%]{color:red;font-size:1rem;font-weight:500;margin-left:.5rem;margin-bottom:5px}.pass-error[_ngcontent-%COMP%]{color:red;font-size:.5rem;font-weight:500;margin-left:.5rem;margin-bottom:5px}.have_an_account[_ngcontent-%COMP%]{margin-top:10px}.login[_ngcontent-%COMP%]{font-weight:500;color:#00f}.login[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}"]}),e})(),pathMatch:"full"}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(O)]]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,R,g.m]]}),e})()}}]);