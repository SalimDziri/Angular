"use strict";(self.webpackChunkMyMoney=self.webpackChunkMyMoney||[]).push([[633],{7633:(Y,u,e)=>{e.r(u),e.d(u,{LoginModule:()=>F});var g=e(9808),m=e(1083),n=e(5e3),s=e(3075),f=e(8762),p=e(1271),l=e(7093),d=e(9224),c=e(7322),h=e(7531),x=e(5245),C=e(3322),L=e(7423),y=e(5899);function T(t,r){if(1&t&&(n.TgZ(0,"div",18),n._UZ(1,"img",19),n.TgZ(2,"span",20),n._uU(3),n.qZA(),n.TgZ(4,"span",21),n._uU(5),n.TgZ(6,"a",22),n._uU(7,"Not You?"),n.qZA()()()),2&t){const o=n.oxw();n.xp6(1),n.s9C("src",o.userImage,n.LSH),n.s9C("alt",o.username),n.xp6(2),n.hij("Log in As ",o.username,""),n.xp6(2),n.hij("",o.username," \u2022 ")}}const Z=function(){return{color:"red","font-size":"20px"}};function v(t,r){1&t&&(n.TgZ(0,"mat-icon",23),n._uU(1,"warning icon"),n.qZA()),2&t&&n.Q6J("ngStyle",n.DdM(1,Z))}function M(t,r){1&t&&(n.TgZ(0,"span",24),n._uU(1,"The email or number you entered isn\u2019t connected to an account. "),n.TgZ(2,"a",25),n._uU(3,"Find your account and log in."),n.qZA()())}function _(t,r){1&t&&(n.TgZ(0,"span",24),n._uU(1,"The password you\u2019ve entered is incorrect. "),n.TgZ(2,"a",26),n._uU(3,"Forgot password"),n.qZA()())}function O(t,r){1&t&&(n.TgZ(0,"span"),n._uU(1,"Log In"),n.qZA())}function P(t,r){if(1&t){const o=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){return n.CHM(o),n.oxw().logIn()}),n.YNc(1,O,2,0,"span",28),n.qZA()}if(2&t){const o=n.oxw();n.Q6J("disabled",o.isLoading),n.xp6(1),n.Q6J("ngIf",!o.isLoading)}}function w(t,r){1&t&&n._UZ(0,"mat-progress-bar",31)}function A(t,r){if(1&t&&(n.TgZ(0,"div",29),n.YNc(1,w,1,0,"mat-progress-bar",30),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.isLoading)}}const I=[{path:"",component:(()=>{class t{constructor(o,i,a,J){this.router=o,this.formBuilder=i,this.loginService=a,this.snackBar=J,this.errorTxt="",this.isLoading=!1,this.showDetails=!1,this.username="",this.userImage="",this.userCurrency="",this.hide=!0}ngOnInit(){this.initLoginForm(),this.initFormControls()}initLoginForm(){this.loginForm=this.formBuilder.group({email:this.emailCtrl,password:this.passwordCtrl})}initFormControls(){this.emailCtrl=this.formBuilder.control(""),this.passwordCtrl=this.formBuilder.control("")}logIn(){this.isLoading=!0,this.loginService.login(this.loginForm).subscribe({next:o=>{this.isLoading=!1,"user does not exist"==o.message?(this.errorTxt=o.message,this.loginForm.reset(),this.showDetails=!1):"wrong password"==o.message?(this.loginForm.controls.password.reset(),this.errorTxt=o.message,this.showDetails=!0,this.username=o.user.username,this.userImage="assets/avatars/"+o.user.avatar+".png"):(this.errorTxt="",this.showDetails=!1,this.loginService.saveSessionToStorage(o.user.id,o.user.currency),this.router.navigateByUrl("/home"))},error:o=>{this.isLoading=!1,"404"==o.status?this.snackBar.open("Transaction not found","dismiss",{duration:3e3}):"502"==o.status?this.snackBar.open("Connection timed out, Try again later","dismiss",{duration:3e3}):(this.snackBar.open(o.message,"dismiss",{duration:3e3}),console.log("error =>"+o.message))}})}newAccount(){this.router.navigateByUrl("/signup")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(m.F0),n.Y36(s.qu),n.Y36(f.r),n.Y36(p.ux))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-login"]],decls:33,vars:11,consts:[[1,"container"],["fxFlex","30%","fxFlex.sm","40%","fxFlex.xs","70%"],["fxLayout","column","fxLayoutAlign","center center",1,"logo"],["src","assets/logo.png","alt",""],["class","userDetails","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","stretch",3,"formGroup"],["appearance","outline",1,"loginFormField"],["UserInputField",""],["matInput","","type","","formControlName","email","autocomplete","off"],["matSuffix","",3,"ngStyle",4,"ngIf"],["class","error",4,"ngIf"],["matInput","","formControlName","password",3,"type"],["type","button","matSuffix","",1,"hide",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","spinner","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayoutAlign","center",1,"margin-top"],["routerLink","../forgot-password",1,"forgot"],["mat-raised-button","","color","accent",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"userDetails"],[1,"userImage",3,"src","alt"],[1,"username"],[1,"notYou"],["href","./login"],["matSuffix","",3,"ngStyle"],[1,"error"],["href","/login"],["href","forgot-password"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"spinner"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.TgZ(4,"span"),n._uU(5,"My Bucks"),n.qZA()(),n.TgZ(6,"mat-card"),n.YNc(7,T,8,4,"div",4),n.TgZ(8,"form",5)(9,"mat-form-field",6,7)(11,"mat-label"),n._uU(12,"Email or Phone number"),n.qZA(),n._UZ(13,"input",8),n.YNc(14,v,2,2,"mat-icon",9),n.qZA(),n.YNc(15,M,4,0,"span",10),n.TgZ(16,"mat-form-field",6)(17,"mat-label"),n._uU(18,"Password"),n.qZA(),n._UZ(19,"input",11),n.TgZ(20,"button",12),n.NdJ("click",function(){return i.hide=!i.hide}),n.TgZ(21,"mat-icon"),n._uU(22),n.qZA()()(),n.YNc(23,_,4,0,"span",10),n.YNc(24,P,2,2,"button",13),n.YNc(25,A,2,1,"div",14),n.qZA(),n.TgZ(26,"div",15)(27,"a",16),n._uU(28,"forgot password ?"),n.qZA()(),n._UZ(29,"hr",15),n.TgZ(30,"div",15)(31,"button",17),n.NdJ("click",function(){return i.newAccount()}),n._uU(32,"Create new account"),n.qZA()()()()()),2&o&&(n.xp6(7),n.Q6J("ngIf",i.showDetails),n.xp6(1),n.Q6J("formGroup",i.loginForm),n.xp6(6),n.Q6J("ngIf","user does not exist"==i.errorTxt),n.xp6(1),n.Q6J("ngIf","user does not exist"==i.errorTxt),n.xp6(4),n.Q6J("type",i.hide?"password":"text"),n.xp6(1),n.uIk("aria-label","Hide password")("aria-pressed",i.hide),n.xp6(2),n.Oqu(i.hide?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf","wrong password"==i.errorTxt),n.xp6(1),n.Q6J("ngIf",!i.isLoading),n.xp6(1),n.Q6J("ngIf",i.isLoading))},directives:[l.yH,l.xw,l.Wh,d.a8,g.O5,s._Y,s.JL,s.sg,c.KE,c.hX,h.Nt,s.Fj,s.JJ,s.u,x.Hw,c.R9,g.PC,C.Zl,L.lW,y.pW],styles:[".container[_ngcontent-%COMP%]{width:100%;min-height:100%;background-color:#f0f2f5;display:flex;justify-content:center;align-items:center}.margin-top[_ngcontent-%COMP%]{margin-top:16px}.margin-left-right[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.forgot[_ngcontent-%COMP%]{color:#1877f2;font-size:14px;font-weight:500;text-decoration:none}.forgot[_ngcontent-%COMP%]:hover{text-decoration:underline}.error[_ngcontent-%COMP%]{font-size:10px;line-height:13px;color:#f02849;margin-bottom:4px;margin-top:4px}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#f02849!important;font-weight:500}.error[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hide[_ngcontent-%COMP%]{border:none;background:none}hr[_ngcontent-%COMP%]{opacity:.5}h2[_ngcontent-%COMP%]{font-size:24px;line-height:28px;width:auto;text-align:center}.userDetails[_ngcontent-%COMP%]{margin-bottom:5px}.userDetails[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:64px;width:64px}.userDetails[_ngcontent-%COMP%]   span.notYou[_ngcontent-%COMP%]{color:#90949c;font-size:12px}.userDetails[_ngcontent-%COMP%]   span.notYou[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1877f2}.logo[_ngcontent-%COMP%]{margin-bottom:1rem}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;font-size:1rem}mat-spinner[_ngcontent-%COMP%]{color:#fff}"]}),t})(),pathMatch:"full"}];let b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[m.Bz.forChild(I)]]}),t})();var U=e(1592);let F=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,b,U.m]]}),t})()}}]);